CREATE TABLE IF NOT EXISTS PlantTypes(
	Name VARCHAR PRIMARY KEY,
	Icon INTEGER,
	Color VARCHAR
	);

CREATE TABLE IF NOT EXISTS Lands(
	Name VARCHAR PRIMARY KEY,
	ImageUri VARCHAR,
	Description TEXT
	);

CREATE TABLE IF NOT EXISTS Plants(
    Land VARCHAR,
    PlantType VARCHAR,
    description TEXT,
	x FLOAT,
	y FLOAT,
    FOREIGN KEY(Land) REFERENCES Lands(Name),
    FOREIGN KEY(PlantType) REFERENCES PlantTypes(Name)
	);

CREATE TABLE IF NOT EXISTS TaskTypes(
	Name VARCHAR PRIMARY KEY,
	Description TEXT
	);

CREATE TABLE IF NOT EXISTS Priorities(
    Name VARCHAR PRIMARY KEY,
    P_order INTEGER NOT NULL,
    Color VARCHAR
    );

CREATE TABLE IF NOT EXISTS Tasks(
    Land VARCHAR,
	PlantIndex INTEGER,
    TaskType VARCHAR,
    Priority VARCHAR,
	CreationDate INTEGER NOT NULL,
	ExpirationDate INTEGER,
	Completed BOOLEAN NOT NULL CHECK (Completed IN (0,1)),
	Observations TEXT,
	FOREIGN KEY(PlantIndex) REFERENCES Plants(idx),
    FOREIGN KEY(Land) REFERENCES Land(Name),
    FOREIGN KEY(TaskType) REFERENCES TaskTypes(Name),
    FOREIGN KEY(Priority) REFERENCES Priorities(Name)
	);

INSERT INTO 'Priorities' (Name, P_order, Color)
VALUES ('Alta',1,'#B71C1C'),('Media',2,'#1B5E20'),('Baixa',3,'#0D47A1');

INSERT INTO 'PlantTypes' (Name, Icon, Color)
VALUES ('Alfarrobeira',2131230837,'#4d2600'),('Amendoeira',2131230837,'#996633'),('Oliveira',2131230837,'#669900')